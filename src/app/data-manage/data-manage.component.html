

<div class="pt-3 pb-5 d-flex flex-column data_manage_page align-items-center">
    <div>

        <div class="d-flex justify-content-between align-items-center px-2 py-2 rounded navBar">

            <ng-multiselect-dropdown class="chkbox_dropdown text-light" [placeholder]="'Search Name'" [settings]="dropdownSettings" [data]="dropdownList"
            [(ngModel)]="selectedItems" (onSelect)="onItemSelect($event)" (onDeSelect)="deSelect($event)" (onSelectAll)="onSelectAll($event)"
            (onDeSelectAll)="deSelectAll()"></ng-multiselect-dropdown>

            <div class="filterdivparent me-auto ms-2">
                <select class="h-100 rounded filterdiv" #dataType (change)="showData(dataType.value)">
                    <option>All</option>
                    <option>Deleted</option>
                </select>
            </div>

            <div class="d-flex align-items-center rowscolumn justify-content-between">
               <ng-multiselect-dropdown class="w-75 text-light" [placeholder]="'Hide Column'" [settings]="columndropdown" [data]="columnDropdownList"
               [(ngModel)]="columnSelectedItems" (onSelect)="onColumnSelect($event)" (onDeSelect)="deSelectColumn($event)"
               (onSelectAll)="onSelectAllColumn($event)" (onDeSelectAll)="deSelectAllColumn()"></ng-multiselect-dropdown>

               <select #rows (change)="changeRows(rows.value)">
                <option selected>Rows</option>
                <option *ngFor="let i of rowsCount">
                    {{i}}
                </option>
               </select>

            </div>
        </div>


        <table border="2" class="table table-success mt-2 table-striped data_table">
            <thead>
                <tr>
                    <th scope="col" class="text-center borderendclr">Index</th>
                    <th scope="col" class="ps-4 borderendclr">Name</th>
                    <th scope="col" class="text-center borderendclr" *ngIf="hideContact">Contact</th>
                    <th scope="col" class="text-center borderendclr" *ngIf="hideAge">Age</th>
                    <th scope="col" class="text-center borderendclr" *ngIf="hideDob">Date of Birth</th>
                    <th scope="col" class="text-center">Edit/Delete</th>
                </tr>
            </thead>
            <tbody
                *ngFor="let data of allDatas | paginate:{itemsPerPage:tableSize,currentPage:page,totalItems:count}; let index=index">
                <tr *ngIf="dataTypee === 'All'" class="rows">
                    <th scope="row" class="py-3 ps-4 border-end">{{(page-1)*tableSize+index+1}}</th>
                    <td class="py-3 ps-4 border-end">{{data.name}}</td>
                    <td class="py-3 ps-4 border-end" *ngIf="hideContact">{{data.contact}}</td>
                    <td class="py-3 text-center border-end" *ngIf="hideAge">{{data.age}}</td>
                    <td class="py-3 text-center border-end dob" *ngIf="hideDob">{{data.dob}}</td>
                    <td class="py-3 text-center text-center">
                        <button type="button" class="border-1 rounded me-2"><a (click)="editFun(data)"
                                [routerLink]="['/update',data.name]" class="text-decoration-none text-dark">Edit</a></button>
                        <button type="button" class="border-1 rounded" (click)="dltData(data)">Delete</button>
                    </td>
                </tr>
                <tr *ngIf="dataTypee === 'Deleted'" class="rows">
                    <th scope="row" class="py-3 border-end">{{data.id}}</th>
                    <td class="py-3 ps-4 border-end">{{data.name}}</td>
                    <td class="py-3 ps-4 border-end">{{data.contact}}</td>
                    <td class="py-3 text-center border-end">{{data.age}}</td>
                    <td class="py-3 text-center border-end dob">{{data.dob}}</td>
                 </tr>
            </tbody>
        </table>

        <div class="d-flex justify-content-center align-items-center">
            <pagination-controls previousLabel="Prev" nextLabel="Next" (pageChange)="onTableDataChange($event)">
            </pagination-controls>
        </div>

    </div>
</div>
